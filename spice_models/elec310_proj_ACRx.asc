Version 4
SHEET 1 1976 740
WIRE 896 -48 624 -48
WIRE 1120 -48 976 -48
WIRE 1152 -48 1120 -48
WIRE 624 -32 624 -48
WIRE 1152 16 1152 -48
WIRE 1472 48 1360 48
WIRE 1360 64 1360 48
WIRE 1472 64 1472 48
WIRE 624 80 624 48
WIRE 1696 112 1680 112
WIRE 1872 112 1856 112
WIRE 1696 160 1680 160
WIRE 1872 160 1856 160
WIRE 624 176 624 160
WIRE 1104 176 624 176
WIRE 1152 176 1152 96
WIRE 1152 176 1104 176
WIRE 1360 176 1360 144
WIRE 1360 176 1152 176
WIRE 1472 176 1472 144
WIRE 1472 176 1360 176
WIRE 1152 208 1152 176
WIRE 784 416 736 416
WIRE 944 416 864 416
WIRE 1072 416 1008 416
WIRE 736 432 736 416
WIRE 1072 448 1072 416
WIRE 512 480 496 480
WIRE 496 496 496 480
WIRE 1072 560 1072 512
WIRE 1088 560 1072 560
WIRE 496 592 496 576
WIRE 544 592 496 592
WIRE 496 608 496 592
WIRE 896 608 848 608
WIRE 992 608 960 608
WIRE 1008 608 992 608
WIRE 1088 656 1072 656
WIRE 496 704 496 688
WIRE 1072 704 1072 656
FLAG 1152 208 0
FLAG 1120 -48 B
FLAG 1360 48 C
FLAG 1104 176 E
FLAG 1408 128 B
FLAG 1408 80 E
FLAG 544 592 VDC
FLAG 1088 560 C_Tx
FLAG 992 608 B_Tx
FLAG 512 480 Tx_in[V]
IOPIN 512 480 Out
FLAG 496 704 0
FLAG 1072 704 0
FLAG 848 608 Tx_in[V]
IOPIN 848 608 In
FLAG 1088 656 E_Tx
FLAG 736 432 0
FLAG 1232 480 Tx_out[I]
IOPIN 1232 480 Out
FLAG 1472 48 Vout
FLAG 624 -48 Vi
FLAG 1680 160 0
FLAG 1680 112 Vout
FLAG 1744 176 0
FLAG 1856 160 0
FLAG 1856 112 Vi
FLAG 1920 176 0
FLAG 1920 32 Vi_AC
FLAG 1744 32 Vout_AC
SYMBOL res 880 -32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rb_Rx
SYMATTR Value 160k
SYMBOL voltage 624 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 47 45 Left 2
WINDOW 3 46 71 Left 2
SYMATTR InstName VDC_Rx
SYMATTR Value 0.78
SYMBOL res 1136 0 R0
SYMATTR InstName rpi_Rx
SYMATTR Value {rpi}
SYMBOL res 1488 160 R180
WINDOW 0 -56 85 Left 2
WINDOW 3 -53 57 Left 2
SYMATTR InstName RC2
SYMATTR Value 30k
SYMBOL g 1360 160 R180
WINDOW 0 44 70 Left 2
WINDOW 3 33 44 Left 2
SYMATTR InstName G1
SYMATTR Value {gm}
SYMBOL res 608 -48 R0
WINDOW 3 41 74 Left 2
SYMATTR InstName R1
SYMATTR Value R=250k*exp(-1000*I(Laser))-202.738k
SYMBOL npn 1008 560 R0
WINDOW 0 48 33 Left 2
WINDOW 3 25 55 Left 2
SYMATTR InstName Q_Tx1
SYMATTR Value 2N3904
SYMBOL voltage 880 416 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -51 20 VRight 2
WINDOW 3 50 52 VRight 2
SYMATTR InstName VCC
SYMATTR Value 5
SYMBOL LED 1056 448 R0
WINDOW 0 -68 15 Left 2
WINDOW 3 -23 39 Left 2
SYMATTR InstName Laser
SYMBOL voltage 496 592 R0
WINDOW 0 -150 38 Left 2
WINDOW 3 -114 67 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V_DC_Tx
SYMATTR Value 0.725
SYMBOL voltage 496 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -153 40 Left 2
WINDOW 3 -243 67 Left 2
SYMATTR InstName V_AC_Tx
SYMATTR Value SINE(0 50m 1k 0)
SYMBOL res2 960 592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName RB1
SYMATTR Value 160k
SYMBOL res2 1008 400 R90
WINDOW 0 -29 32 VBottom 2
WINDOW 3 -31 32 VTop 2
SYMATTR InstName RC
SYMATTR Value 9.4k
SYMBOL e 1744 80 R0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL cap 1760 96 R180
WINDOW 0 39 58 Left 2
WINDOW 3 40 32 Left 2
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL e 1920 80 R0
SYMATTR InstName E2
SYMATTR Value 1
SYMBOL cap 1936 96 R180
WINDOW 0 39 58 Left 2
WINDOW 3 40 32 Left 2
SYMATTR InstName C2
SYMATTR Value 47µ
TEXT 624 192 Left 2 !.tran 0 60m 50m 0.1m
TEXT 624 216 Left 2 !.param gm = 0.005609
TEXT 624 240 Left 2 !.param rpi 53.483k
TEXT 360 408 Left 2 ;Input Signal
TEXT 864 304 Left 2 ;Transmitter
RECTANGLE Normal 1232 736 624 320
